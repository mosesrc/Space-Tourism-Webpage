@inject IJSRuntime JsRuntime
@using Newtonsoft.Json;
@using BlazorAnimate;

<section class="crew-body">

    <div class="member-info">

        <h2>@member.crew[@Index].role.ToUpper()</h2>
        <h1>@member.crew[@Index].name.ToUpper()</h1>
        <p>
            @member.crew[@Index].bio
        </p>

        <div class="progress-container">
            <div @onclick="async () => { await ActiveIndicator();  Index = 0; }" class="circle active"></div>
            <div @onclick="async () => { await ActiveIndicator();  Index = 1; }"  class="circle"></div>
            <div @onclick="async () => { await ActiveIndicator();  Index = 2; }"  class="circle"></div>
            <div @onclick="async () => { await ActiveIndicator();  Index = 3; }"  class="circle"></div>
        </div>
    </div>
    <img src="@member.crew[@Index].images.png" alt="Commander" />
</section>

@code {
    async Task ActiveIndicator()
    {
        await JsRuntime.InvokeVoidAsync(identifier: "crewIndicators");
    }

    #region Crew Model
 
    [Parameter]
    public int Index { get; set; }


    public static string DestinationData = @"C:\Users\rynmo\OneDrive\Desktop\MSSA\UnitedTraining\Project3\SpaceTourismWebSite\Data\crew-members.json";
    static string jsonFile = File.ReadAllText(DestinationData);


    CrewMember.Rootobject member = JsonConvert.DeserializeObject<CrewMember.Rootobject>(jsonFile);

    #endregion
}
